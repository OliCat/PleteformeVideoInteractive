<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plateforme Vidéo Interactive pour Coopérative</title>
    <style>
        @font-face {
            font-family: 'Ginka';
            src: url('fonts/Ginka-Regular.woff2') format('woff2'),
                 url('fonts/Ginka-Regular.woff') format('woff');
            font-weight: 400;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Ginka';
            src: url('fonts/Ginka-Bold.woff2') format('woff2'),
                 url('fonts/Ginka-Bold.woff') format('woff');
            font-weight: 700;
            font-style: normal;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Ginka', Arial, sans-serif;
            font-weight: 400;
            font-size: 16px;
            line-height: 24px;
            color: #333;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background-color: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        h1 {
            font-family: 'Ginka', Arial, sans-serif;
            font-weight: 700;
            font-size: 70px;
            line-height: 70px;
            color: #E9473C;
            margin-bottom: 20px;
        }

        h2 {
            font-family: 'Ginka', Arial, sans-serif;
            font-weight: 700;
            font-size: 56px;
            line-height: 56px;
            color: #E9473C;
            margin: 40px 0 20px 0;
        }

        h3 {
            font-family: 'Ginka', Arial, sans-serif;
            font-weight: 700;
            font-size: 40px;
            line-height: 40px;
            color: #2D74BA;
            margin: 30px 0 15px 0;
        }

        h4 {
            font-family: 'Ginka', Arial, sans-serif;
            font-weight: 700;
            font-size: 30px;
            line-height: 30px;
            color: #69BD93;
            margin: 25px 0 10px 0;
        }

        h5 {
            font-family: 'Ginka', Arial, sans-serif;
            font-weight: 400;
            font-size: 24px;
            line-height: 30px;
            color: #F2BE69;
            margin: 20px 0 10px 0;
        }

        h6 {
            font-family: 'Ginka', Arial, sans-serif;
            font-weight: 400;
            font-size: 21px;
            line-height: 24px;
            color: #333;
            margin: 15px 0 8px 0;
        }

        p {
            font-family: 'Ginka', Arial, sans-serif;
            font-weight: 400;
            font-size: 16px;
            line-height: 24px;
            margin-bottom: 16px;
        }

        .version-badge {
            background-color: #69BD93;
            color: white;
            padding: 8px 16px;
            border-radius: 10px;
            font-weight: 700;
            display: inline-block;
            margin: 10px 0;
        }

        .status-badge {
            background-color: #E9473C;
            color: white;
            padding: 8px 16px;
            border-radius: 10px;
            font-weight: 700;
            display: inline-block;
            margin: 10px 0;
        }

        .section {
            margin: 40px 0;
            padding: 30px;
            border-radius: 10px;
        }

        .section.blue {
            background-color: #2D74BA;
            color: white;
        }

        .section.green {
            background-color: #69BD93;
            color: white;
        }

        .section.yellow {
            background-color: #F2BE69;
            color: #333;
        }

        .section.red {
            background-color: #E9473C;
            color: white;
        }

        .section h2, .section h3, .section h4 {
            color: inherit;
        }

        ul, ol {
            margin: 16px 0 16px 30px;
        }

        li {
            margin-bottom: 8px;
            line-height: 24px;
        }

        code {
            /*background-color: #f0f0f0;*/
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        pre {
            background-color: #f0f0f0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 16px 0;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        .feature-list {
            list-style: none;
            margin-left: 0;
        }

        .feature-list li {
            position: relative;
            padding-left: 30px;
            margin-bottom: 12px;
        }

        .feature-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #69BD93;
            font-weight: 700;
            font-size: 18px;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tech-item {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            color: inherit;
        }

        strong {
            font-weight: 700;
            color: #E9473C;
        }

        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            color: #856404;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 50px;
                line-height: 50px;
            }
            
            h2 {
                font-size: 40px;
                line-height: 40px;
            }
            
            h3 {
                font-size: 30px;
                line-height: 30px;
            }
            
            .container {
                padding: 20px 15px;
            }
            
            .tech-stack {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Plateforme Vidéo Interactive pour Coopérative</h1>
        
        <div>
            <span class="version-badge">Version V1.0 (Production)</span>
            <span class="status-badge">Fonctionnelle et opérationnelle en production</span>
        </div>

        <p>Une plateforme web d'hébergement de vidéos avec parcours ludique à base de quiz, destinée à un usage privatif pour les membres d'une coopérative.</p>

        <div class="section green">
            <h2>Fonctionnalités (V1.0)</h2>
            <h3>Implémenté et opérationnel</h3>
            
            <ul class="feature-list">
                <li><strong>Authentification sécurisée</strong> : Système de connexion avec JWT, protection brute force, gestion de profils</li>
                <li><strong>Parcours séquentiel</strong> : Vidéos débloquées après réussite du quiz précédent (≥80%)</li>
                <li><strong>Quiz interactifs</strong> : QCM, Vrai/Faux, questions ouvertes avec timer et explications</li>
                <li><strong>Gestion vidéo</strong> : Upload, transcodage automatique (480p/720p/1080p), génération de thumbnails</li>
                <li><strong>Interface d'administration</strong> : Gestion complète des utilisateurs, vidéos et quiz</li>
                <li><strong>Suivi de progression</strong> : Historique détaillé des tentatives, scores, temps de visionnage</li>
                <li><strong>Lecteur vidéo avancé</strong> : Tracking automatique de la progression, sauvegarde toutes les 10 secondes</li>
                <li><strong>Dashboard personnalisé</strong> : Statistiques de progression, prochaine vidéo recommandée</li>
                <li><strong>Design responsive</strong> : Interface moderne avec TailwindCSS, adaptée mobile et desktop</li>
            </ul>
        </div>

        <div class="section blue">
            <h2>Architecture</h2>
            <div class="tech-stack">
                <div class="tech-item">
                    <h4>Frontend</h4>
                    <p>React.js (v18.2.0) + Redux Toolkit (v2.0.1) + TailwindCSS (v3.3.6)</p>
                </div>
                <div class="tech-item">
                    <h4>Backend</h4>
                    <p>Node.js (v18+) + Express (v4.18.2) + MongoDB (v6+) + Mongoose (v8.0.3)</p>
                </div>
                <div class="tech-item">
                    <h4>Vidéo</h4>
                    <p>FFmpeg (fluent-ffmpeg v2.1.2) + MP4 Range Requests (HLS prévu future version)</p>
                </div>
                <div class="tech-item">
                    <h4>Sécurité</h4>
                    <p>JWT + Rate Limiting + Helmet + Express Validator</p>
                </div>
            </div>
        </div>

        <h2>Prérequis</h2>
        <ul>
            <li>Node.js (v18+)</li>
            <li>MongoDB (v6+)</li>
            <li>FFmpeg</li>
            <li>Git</li>
        </ul>

        <div class="section yellow">
            <h2>Installation</h2>
            
            <h3>1. Cloner le projet</h3>
            <pre><code>git clone &lt;repository-url&gt;
cd PlateformeVideoInteractive</code></pre>

            <h3>2. Installer les dépendances</h3>
            <pre><code>npm run install:all</code></pre>

            <h3>3. Configuration de l'environnement</h3>
            <p>Créer le fichier <code>backend/.env</code> :</p>
            <pre><code>NODE_ENV=development
PORT=5000
MONGODB_URI=mongodb://localhost:27017/video-platform
JWT_SECRET=your-super-secret-jwt-key
JWT_EXPIRE=30d

# Upload configuration
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=500000000
ALLOWED_VIDEO_FORMATS=mp4,avi,mov,mkv

# Video processing
FFMPEG_PATH=/usr/bin/ffmpeg
VIDEO_QUALITY_LEVELS=480p,720p,1080p

# Security
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100</code></pre>

            <h3>4. Démarrage en mode développement</h3>
            <pre><code>npm run dev</code></pre>
            <p>Cela démarre :</p>
            <ul>
                <li>Backend API sur http://localhost:5000</li>
                <li>Frontend React sur http://localhost:3000</li>
            </ul>
        </div>

        <h2>Structure du projet</h2>
        <pre><code>PlateformeVideoInteractive/
├── architecture.md          # Documentation architecture
├── README.md               # Ce fichier
├── package.json           # Configuration workspace
├── backend/               # API Node.js
│   ├── controllers/       # Contrôleurs API
│   ├── middleware/        # Middlewares Express
│   ├── models/           # Modèles MongoDB
│   ├── routes/           # Routes API
│   ├── services/         # Services métier
│   ├── utils/            # Utilitaires
│   ├── uploads/          # Fichiers uploadés
│   └── server.js         # Point d'entrée
├── frontend/             # Application React
│   ├── public/           # Fichiers statiques
│   ├── src/
│   │   ├── components/   # Composants React
│   │   ├── pages/        # Pages de l'application
│   │   ├── store/        # Configuration Redux
│   │   ├── services/     # Services API
│   │   ├── hooks/        # Hooks personnalisés
│   │   ├── utils/        # Utilitaires
│   │   └── App.js        # Composant principal
└── docs/                 # Documentation</code></pre>

        <div class="section red">
            <h2>Scripts disponibles</h2>
            <ul>
                <li><code>npm run dev</code> : Démarrage en mode développement (backend + frontend)</li>
                <li><code>npm run dev:backend</code> : Démarrage backend uniquement</li>
                <li><code>npm run dev:frontend</code> : Démarrage frontend uniquement</li>
                <li><code>npm run build</code> : Build de production</li>
                <li><code>npm run start</code> : Démarrage en production</li>
                <li><code>npm run install:all</code> : Installation de toutes les dépendances</li>
                <li><code>npm run clean</code> : Nettoyage des node_modules</li>
            </ul>
        </div>

        <h2>Déploiement (V1.0)</h2>
        
        <h3>Prérequis serveur</h3>
        <ul>
            <li><strong>OS</strong> : Ubuntu/Debian 11+</li>
            <li><strong>Node.js</strong> : v18+ (recommandé v18.x LTS)</li>
            <li><strong>MongoDB</strong> : v6+ (recommandé v6.x ou v7.x)</li>
            <li><strong>Nginx</strong> : v1.18+ (reverse proxy)</li>
            <li><strong>FFmpeg</strong> : v4.x+ (transcodage vidéo)</li>
            <li><strong>SSL</strong> : Certificat Let's Encrypt (automatisé via certbot)</li>
        </ul>

        <h3>Scripts de déploiement</h3>
        <p>Des scripts automatisés sont disponibles dans le dossier <code>scripts/</code> :</p>
        <ul>
            <li><code>scripts/deploy-production.sh</code> : Déploiement complet</li>
            <li><code>scripts/setup-backend-config.sh</code> : Configuration backend</li>
            <li><code>scripts/configure-nginx-public.sh</code> : Configuration Nginx</li>
            <li><code>scripts/install-debian11.sh</code> : Installation complète sur Debian 11</li>
        </ul>

        <div class="section blue">
            <h2>Utilisation (V1.0)</h2>
            
            <div class="warning">
                <h4>Compte administrateur par défaut</h4>
                <p>Email: <code>admin@cooperative.local</code><br>
                Mot de passe: <code>admin123</code> <strong>À changer immédiatement en production</strong></p>
            </div>

            <h3>Workflow administrateur</h3>
            <ol>
                <li>Se connecter avec le compte admin</li>
                <li>Accéder au dashboard d'administration</li>
                <li><strong>Upload de vidéos</strong> : Aller dans "Gérer les vidéos" → "Ajouter une vidéo"</li>
                <li><strong>Création de quiz</strong> : Aller dans "Gérer les quiz" → "Créer un quiz"</li>
                <li><strong>Gestion des utilisateurs</strong> : Créer, modifier, activer/désactiver les comptes</li>
            </ol>

            <h3>Workflow utilisateur</h3>
            <ol>
                <li><strong>Inscription/Connexion</strong> : Créer un compte ou se connecter</li>
                <li><strong>Dashboard</strong> : Consulter la progression, statistiques, prochaine vidéo</li>
                <li><strong>Parcours d'apprentissage</strong> : Accéder aux vidéos débloquées</li>
                <li><strong>Visionnage</strong> : Regarder la vidéo (la progression est sauvegardée automatiquement)</li>
                <li><strong>Quiz</strong> : Répondre aux questions après avoir visionné ≥90% de la vidéo</li>
                <li><strong>Résultats</strong> : Consulter le score et les explications</li>
                <li><strong>Déblocage</strong> : Si score ≥80%, la vidéo suivante est automatiquement débloquée</li>
                <li><strong>Reprise</strong> : Si échec, possibilité de retenter (selon configuration)</li>
            </ol>
        </div>

        <h2>Contribution</h2>
        <ol>
            <li>Fork le projet</li>
            <li>Créer une branche feature (<code>git checkout -b feature/nouvelle-fonctionnalite</code>)</li>
            <li>Commit les changements (<code>git commit -am 'Ajout nouvelle fonctionnalité'</code>)</li>
            <li>Push vers la branche (<code>git push origin feature/nouvelle-fonctionnalite</code>)</li>
            <li>Créer une Pull Request</li>
        </ol>

        <h2>Licence</h2>
        <p>Ce projet est sous licence MIT. Voir le fichier <code>LICENSE</code> pour plus de détails.</p>

        <h2>Support</h2>
        <p>Pour toute question ou problème, ouvrir une issue sur le repository Git.</p>
    </div>
</body>
</html>